<section class="py-24 px-4">
  <div
    class="max-w-4xl mx-auto bg-white border-1 border-[#1327bf] mt-4 shadow-md p-6 rounded-lg"
  >
    <!-- Header -->
    <div class="flex justify-between items-center mb-6">
      <h1 class="text-2xl font-bold text-black">MY BAG</h1>
      <p class="text-sm text-gray-500">ITEMS ARE RESERVED FOR 60 MINUTES</p>
    </div>

    <!-- Two-Column Layout for Cart Items and Summary -->
    <div class="flex flex-col md:flex-row md:space-x-6">
      <!-- Left Column: Cart Items -->
      <div class="flex-1 border-t border-gray-200 pt-4">
        @for (item of cartItems(); track $index) {
        <div class="flex items-start mb-4">
          <!-- Product Image -->
          <div class="w-24 h-32 bg-gray-200 mr-4">
            <img
              [src]="item.product.images[0]"
              [alt]="item.product.title"
              class="w-full h-full object-cover"
            />
          </div>

          <!-- Product Details -->
          <div class="flex-1">
            <div class="flex justify-between">
              <p class="text-lg font-semibold text-black">
                ${{ item.product.price.toFixed(2) }}
              </p>
              <button
                (click)="removeItem(item.product.id)"
                class="text-gray-500 hover:text-black"
              >
                âœ•
              </button>
            </div>
            <p class="text-black uppercase">{{ item.product.title }}</p>
            <div class="flex items-center space-x-2 mt-1">
              <p class="text-sm text-gray-600"></p>
              <div class="flex items-center">
                <label class="text-sm text-gray-600 mr-2">Qty</label>
                <div class="flex items-center border border-gray-300 rounded">
                  <button
                    (click)="DecrementQuantity(item.product.id)"
                    class="w-8 h-8 flex items-center justify-center text-gray-600 hover:bg-gray-100"
                    [disabled]="item.quantity <= 1"
                  >
                    -
                  </button>
                  <span class="w-10 text-black text-center text-sm">{{
                    item.quantity
                  }}</span>
                  <button
                    (click)="incrementQuantity(item.product.id)"
                    class="w-8 h-8 flex items-center justify-center text-gray-600 hover:bg-gray-100"
                  >
                    +
                  </button>
                </div>
              </div>
            </div>
            <!-- @if (item.isLastOne) {
                <p class="text-red-500 text-sm mt-1">LAST ONE LEFT</p>
              } -->
            <button class="text-sm text-gray-500 hover:text-black mt-1">
              â™¥ Save for later
            </button>
          </div>
        </div>
        }
      </div>

      <!-- Right Column: Summary Section -->
      <div class="w-full md:w-1/3 border-t border-gray-200 pt-4 mt-4 md:mt-0">
        <div class="flex justify-between mb-2">
          <p class="text-black">Sub-total</p>
          <p class="text-black">$</p>
        </div>
        <div class="flex justify-between mb-2">
          <p class="text-black">Shipping</p>
          <p class="text-black">TBD</p>
        </div>
        <div class="flex justify-between mb-4">
          <p class="text-black">Sales tax</p>
          <p class="text-black">TBD</p>
        </div>
        <button
          routerLink="/layout/payment"
          class="w-full bg-[#1327bf] text-white py-2 rounded"
        >
          CHECKOUT
        </button>
        <div class="flex justify-center items-center mt-4">
          <p class="text-sm text-gray-600">WE ACCEPT:</p>
          <div class="flex space-x-2 ml-2">
            <!-- Placeholder for payment icons -->
            <img src="/visa.png" alt="Visa" class="h-8" />
            <img src="/paypal.png" alt="Mastercard" class="h-8" />
            <img src="/mastercard.png" alt="PayPal" class="h-8" />
          </div>
        </div>
        <p class="text-sm text-gray-600 text-center mt-2">
          Got a discount code? Add it in the next step.
        </p>
      </div>
    </div>

    <!-- Promotional Banner -->
    <div class="mt-6 p-4 bg-gray-50 rounded-lg flex items-center">
      <div
        class="w-12 h-12 bg-purple-200 rounded-full mr-4 flex items-center justify-center"
      >
        <!-- Placeholder for crown icon -->
        <span class="text-2xl">ðŸ‘‘</span>
      </div>
      <div>
        <p class="text-black font-semibold">ASOS PREMIER USA</p>
        <p class="text-sm text-gray-600">
          Enjoy unlimited Express Delivery on all orders of $50+ and Standard
          Shipping on all others over $20 for a whole year, only $19.99! Ts&Cs
          apply.
        </p>
      </div>
    </div>

    <!-- Add to Bag Button -->
    <div class="mt-6">
      <button
        routerLink=""
        class="w-full border border-gray-300 text-black py-2 rounded hover:bg-gray-100"
      >
        Go Back to home
      </button>
    </div>
  </div>
</section>
